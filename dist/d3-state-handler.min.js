!function(){var e={},t={};!function(){e=function(e){var t=function(){"use strict";return 10};return e=t}(e),t=function(e,t){function r(e,t,r){for(var n=0,o=e.length;o>n;n++)if(e[n][r]===t)return n;return-1}function n(e){"use strict";this.name="FinalStateError",this.message=e||"There are no more states to advance to",this.stack=(new Error).stack}function o(e){"use strict";this.name="FirstStateError",this.message=e||"There are no states before this one",this.stack=(new Error).stack}Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n){n=Object(n);for(var o=Object.keys(n),i=0,s=o.length;s>i;i++){var a=o[i],c=Object.getOwnPropertyDescriptor(n,a);void 0!==c&&c.enumerable&&(t[a]=n[a])}}}return t}}),n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o;var i=function(e){"use strict";var t=this,i=0,s=[],a=e||{loop:!1},c=a.data||{},u=(a.jumpState||{},function(){return s[i]}),f=function(){var e=Object.assign({},c);e=s[i].render(e),c=Object.assign({},c,e)},p=function(e){var r=s.length;if(e.__index=r,e.name||(e.name=String(r)),"function"!=typeof e.render)throw new Error("States require a render method");return"function"!=typeof e.resize&&(e.resize=e.render),s.push(e),t},d=function(e){var n=r(s,e,"name");return n>-1&&array.splice(n,1),t},g=function(e){var t=r(s,e,"name"),n=Object.assign({},c);if(!(t>-1))throw new Error("State "+e+" does not exist");try{n=s[i].jumpOut(n)}catch(o){if("TypeError"===!o.name)throw new Error(o)}i=t;try{n=s[i].jumpIn(n)}catch(o){if("TypeError"===!o.name)throw new Error(o)}n=s[i].render(n),c=Object.assign({},c,n)},b=function(){var e=Object.assign({},c);if("undefined"!=typeof s[i].nextOut&&(e=Object.assign({},s[i].nextOut(e))),i+1<s.length)i+=1;else{if(!a.loop)throw new n;i=0}return"undefined"!=typeof s[i].nextIn&&(e=Object.assign({},s[i].nextIn(e))),"undefined"!=typeof s[i].render&&(e=Object.assign({},s[i].render(e))),c=Object.assign({},c,e),t},O=function(){var e=Object.assign({},c);if("undefined"!=typeof s[i].prevOut&&(e=Object.assign({},s[i].prevOut(e))),i-1>=0)i-=1;else{if(!a.loop)throw new o;i=s.length-1}return"undefined"!=typeof s[i].prevIn&&(e=Object.assign({},s[i].prevIn(e))),"undefined"!=typeof s[i].render&&(e=Object.assign({},s[i].render(e))),c=Object.assign({},c,e),t},j=function(){var e=Object.assign({},c);e=s[i].resize(e),c=Object.assign({},c,e)};return{next:b,add:p,currentState:u,prev:O,remove:d,resize:j,jumpTo:g,start:f}};return e=i}(t,e)}()}();