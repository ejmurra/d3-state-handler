{"version":3,"sources":["../src/d3-state-handler.js"],"names":[],"mappings":"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","file":"d3-state-handler.js","sourcesContent":["// Error handling\nfunction FinalState(message) {\n    \"use strict\";\n    this.name = 'FinalStateError';\n    this.message = message || \"There are no more states to advance to\";\n    this.stack = (new Error()).stack;\n}\nFinalState.prototype = Object.create(Error.prototype);\nFinalState.prototype.constructor = FinalState;\n\nfunction FirstState(message) {\n    \"use strict\";\n    this.name = 'FirstStateError';\n    this.message = message || \"There are no states before this one\";\n    this.stack = (new Error()).stack;\n}\nFirstState.prototype = Object.create(Error.prototype);\nFirstState.prototype.constructor = FirstState;\n\nconst StateHandler = function StateHandler(opts) {\n    \"use strict\";\n    \"use strict\";\n    this.currentIndex = 0;\n    this.states = [];\n    let options = opts || {\n            loop: false // specifies whether states should loop from end - beginning and vice versa\n        };\n\n    let currentState = () => {\n        return this.states[this.currentIndex]\n    };\n\n    let add = (state) => {\n        this.states.push(state)\n    };\n\n    let remove = (index) => {\n        this.states.remove(index)\n    };\n\n    let next = () => {\n        \"use strict\";\n        // Call nextOut on the current state if it exists\n        if (typeof currentState().nextOut === 'function') currentState().nextOut.call(currentState());\n\n        // Set the current state to the next index. Loop if specified.\n        if (this.currentIndex + 1 < this.states.length) { this.currentIndex += 1; }\n        else if (options.loop) { this.currentIndex = 0; }\n        else { throw new FinalState(); }\n\n        // Call nextIn on the new current state\n        if (typeof currentState().nextIn === 'function') currentState().nextIn.call(currentState());\n    };\n\n    let prev = () => {\n        \"use strict\";\n        // Call prevOut on the current state if it exists\n        if (typeof currentState().prevOut === 'function') currentState().prevOut.call(currentState());\n\n        // Set the current state to the previous index. Loop if specified.\n        if (this.currentIndex - 1 >= 0) { this.currentIndex -= 1; }\n        else if (options.loop) { this.currentIndex = this.states.length; }\n        else { throw new FirstState(); }\n\n        // Call prevIn on the new current state\n        if (typeof currentState().nextIn === 'function') currentState().nextIn.call(currentState());\n    };\n\n    return {\n        next: next,\n        add: add,\n        currentState: currentState,\n        prev: prev,\n        remove: remove\n    }\n};\n\nexport default StateHandler;"]}