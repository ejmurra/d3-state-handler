{"version":3,"sources":["../src/d3-state-handler.js"],"names":[],"mappings":"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","file":"d3-state-handler.js","sourcesContent":["// Error handling\nfunction FinalState(message) {\n    \"use strict\";\n    this.name = 'FinalStateError';\n    this.message = message || \"There are no more states to advance to\";\n    this.stack = (new Error()).stack;\n}\nFinalState.prototype = Object.create(Error.prototype);\nFinalState.prototype.constructor = FinalState;\n\nfunction FirstState(message) {\n    \"use strict\";\n    this.name = 'FirstStateError';\n    this.message = message || \"There are no states before this one\";\n    this.stack = (new Error()).stack;\n}\nFirstState.prototype = Object.create(Error.prototype);\nFirstState.prototype.constructor = FirstState;\n\nconst StateHandler = function StateHandler(opts) {\n    \"use strict\";\n    \"use strict\";\n    let currentIndex = 0;\n    let states = [];\n    let options = opts || {\n            loop: false // specifies whether states should loop from end - beginning and vice versa\n        };\n\n    let currentState = function currentState() {\n        return states[currentIndex]\n    };\n\n    let add = function add(state) {\n        states.push(state)\n    };\n\n    let remove = function remove(index) {\n        states.remove(index)\n    };\n\n    let next = function next() {\n        \"use strict\";\n        // Call nextOut on the current state if it exists\n        if (typeof currentState().nextOut === 'function') currentState().nextOut.call(currentState());\n\n        // Set the current state to the next index. Loop if specified.\n        if (currentIndex + 1 < states.length) { currentIndex += currentIndex; }\n        else if (options.loop) { currentIndex = 0; }\n        else { throw new FinalState(); }\n\n        // Call nextIn on the new current state\n        if (typeof currentState().nextIn === 'function') currentState().nextIn.call(currentState());\n    };\n\n    let prev = function prev() {\n        \"use strict\";\n        // Call prevOut on the current state if it exists\n        if (typeof currentState().prevOut === 'function') currentState().prevOut.call(currentState());\n\n        // Set the current state to the previous index. Loop if specified.\n        if (currentIndex - 1 >= 0) { currentIndex -= currentIndex; }\n        else if (options.loop) { currentIndex = states.length; }\n        else { throw new FirstState(); }\n\n        // Call prevIn on the new current state\n        if (typeof currentState().nextIn === 'function') currentState().nextIn.call(currentState());\n    };\n\n    return {\n        next: next,\n        add: add,\n        currentState: currentState,\n        prev: prev,\n        remove: remove\n    }\n};\n\nexport default StateHandler;"]}